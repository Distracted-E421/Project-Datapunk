graph TD
    subgraph "Container Network"
        subgraph "Gateway"
            Nexus[datapunk-nexus]
            Auth[datapunk-auth]
        end

        subgraph "Core Services"
            Lake[datapunk-lake]
            Stream[datapunk-stream]
            Cortex[datapunk-cortex]
            Forge[datapunk-forge]
        end

        subgraph "Infrastructure"
            Redis[Redis Cluster]
            PG[PostgreSQL]
            MQ[RabbitMQ]
            Consul[Consul]
        end
    end

    classDef container fill:#f9f,stroke:#333,stroke-width:2px
    classDef infra fill:#bfb,stroke:#333,stroke-width:2px

    class Lake,Stream,Cortex,Forge,Nexus,Auth container
    class Redis,PG,MQ,Consul infra